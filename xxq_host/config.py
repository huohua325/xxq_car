# config.py - xxq_host 配置文件

import os

# ============================================================================
# 串口配置
# ============================================================================
SERIAL_PORT = '/dev/ttyUSB0'   # WSL/Linux: '/dev/ttyUSB0' 或 '/dev/ttyACM0'
                                # Windows: 'COM5'
BAUDRATE = 115200
TIMEOUT = 1.0

# ============================================================================
# SLAM配置
# ============================================================================
MAP_WIDTH = 500                 # 栅格数量
MAP_HEIGHT = 500
MAP_RESOLUTION = 0.1            # 米/栅格
MAP_ORIGIN = (MAP_WIDTH // 2, MAP_HEIGHT // 2)

# ============================================================================
# 机器人物理参数（需实测）
# ============================================================================
WHEEL_BASE = 0.20               # 轮距（米）- 待实测
WHEEL_RADIUS = 0.033            # 轮子半径（米）
ENCODER_PPR_LEFT = 1560         # 左轮编码器PPR
ENCODER_PPR_RIGHT = 780         # 右轮编码器PPR

# ============================================================================
# DWA参数
# ============================================================================
MAX_SPEED = 1.0                 # 最大速度 m/s
MAX_YAW_RATE = 40.0             # 最大转向角速度 deg/s
MAX_ACCEL = 0.5                 # 最大加速度 m/s^2
DWA_DT = 0.1                    # 预测步长 s
DWA_V_RESOLUTION = 0.1          # 速度分辨率
DWA_YAW_RESOLUTION = 5.0        # 角速度分辨率（度）

# ============================================================================
# Frontier检测参数
# ============================================================================
FRONTIER_CLUSTER_DIST = 0.3     # 聚类距离 m
MIN_FRONTIER_SIZE = 5           # 最小前沿簇大小
FRONTIER_SELECTION = 'nearest'  # 'nearest' | 'largest' | 'information_gain'

# ============================================================================
# 可视化参数
# ============================================================================
VISUALIZE_RATE = 30             # 可视化帧率 fps
SHOW_LIDAR_POINTS = True        # 显示雷达点云
SHOW_PATH = True                # 显示规划路径
SHOW_FRONTIERS = True           # 显示前沿点
SHOW_TRAJECTORY = True          # 显示运动轨迹

# ============================================================================
# 日志配置
# ============================================================================
LOG_DIR = 'data/logs'
LOG_LEVEL = 'INFO'              # DEBUG | INFO | WARNING | ERROR
ENABLE_FILE_LOG = True
ENABLE_CONSOLE_LOG = True

# ============================================================================
# 数据记录
# ============================================================================
ENABLE_DATA_RECORDING = False
RECORDING_DIR = 'data/recordings'
